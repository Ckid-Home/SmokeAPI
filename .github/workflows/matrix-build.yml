name: Matrix Build

on:
  workflow_call:

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        module: [ SmokeAPI ]
        os: [ Linux, Windows ]
        bitness: [ 32, 64 ]

    uses: acidicoala/KoalaBox/.github/workflows/build-cmake.yml@master
    with:
      module: ${{ matrix.module }}
      os: ${{ matrix.os }}
      bitness: ${{ matrix.bitness }}
